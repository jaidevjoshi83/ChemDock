<tool id="interactive_tool_chem_app" name="Chem Drawing" tool_type="interactive" version="0.1" license="MIT">
    <description>Edit and draw chemical structure.</description>
    
    <requirements>
        <!--<container type="docker">fabiocumbo/igv:0.1</container>-->
        <container type="docker">jayadevjoshi12/chem:1</container>
    </requirements>
    
    <entry_points>
        <entry_point name="Chem Tool" requires_domain="true">
            <port>8000</port>
            <url>/</url>
        </entry_point>
    </entry_points>

    
    <command><![CDATA[
        #import re


        ln -sf '$input' '/home/app/webapp/Chem/static/data/data.mol' &&

        cat '/home/app/webapp/Chem/static/data/data.mol' &&

        python /home/app/webapp/manage.py runserver 0.0.0.0:8000 && 

        cp '/home/app/webapp/Chem/static/out/chem.mol' '$output'

      ]]>
    </command>
    
    <inputs>
        <param name="input" type="data" format="fasta" label="Input fasta file" />
    </inputs>
    
    <outputs>
        <data name="output" format="mol" label="Mole file"/>
    </outputs>
    
    <tests>
        <test expect_num_outputs="1">
            <param name="input" value="test.fasta" />
            <param name="run_it" value="true" />
            <output name="igv_session" file="./igv/output/igv-session.json" ftype="json"/>
        </test>
    </tests>
    
    <help><![CDATA[
This interactive tool allows user to edit and draw chemical structures.

   ]]></help>
    <citations>
        <citation type="doi">https://github.com/jaidevjoshi83/ChemDock</citation>
    </citations>
</tool>
